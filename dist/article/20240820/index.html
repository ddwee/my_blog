<!DOCTYPE html><html lang="ja"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/_astro/ClientRouter.astro_astro_type_script_index_0_lang.elfUsALL.js"></script><link rel="icon" type="image/svg+xml" href="/favicon.svg"><title>暑い日のアイス - 私の日記</title><link rel="stylesheet" href="/_astro/_page_.BcLkYXD5.css"></head> <body>  <header> <h1><a href="/">私の日記</a></h1> <p>日々の出来事を綴ります</p> </header> <div class="container"> <aside class="sidebar"> <h3>アーカイブ</h3> <select class="archive-select" id="yearSelect"> <option value="">年を選択</option> <option value="2025">2025年 (6件)</option><option value="2024">2024年 (3件)</option> </select> <ul class="archive-list" id="archiveList"></ul> </aside> <script>(function(){const archiveData = {"2024":{"09":1,"08":1,"07":1},"2025":{"10":6}};

  function initArchive() {
    const yearSelect = document.getElementById('yearSelect');
    const archiveList = document.getElementById('archiveList');

    if (!yearSelect || !archiveList) return;

    // 既存のイベントリスナーをクリア
    const newYearSelect = yearSelect.cloneNode(true);
    yearSelect.parentNode.replaceChild(newYearSelect, yearSelect);

    newYearSelect.addEventListener('change', (e) => {
      const selectedYear = e.target.value;
      
      if (!selectedYear) {
        archiveList.innerHTML = '';
        return;
      }

      const months = archiveData[selectedYear];
      const sortedMonths = Object.keys(months).sort((a, b) => b.localeCompare(a));
      
      archiveList.innerHTML = sortedMonths.map(month => {
        // 修正: アーカイブリンクのパスを確認
        const archiveLink = `/archive/${selectedYear}${month}/page/1`;
        // または `/archive/${selectedYear}${month}/` など、実際のルーティングに合わせる
        
        return `
          <li>
            <a href="${archiveLink}">
              <span>${parseInt(month)}月</span>
              <span class="count">(${months[month]}件)</span>
            </a>
          </li>
        `;
      }).join('');
    });
  }

  // 初回実行
  initArchive();

  // View Transitions対応：ページ遷移後も再実行
  document.addEventListener('astro:page-load', initArchive);
})();</script> <div class="main-content"> <main> <article> <div class="date">2024年8月20日</div> <h2>暑い日のアイス</h2> <div class="meta"> <a href="/category/グルメ" class="category">グルメ</a> <div class="tags"> <a href="/tag/アイス" class="tag">#アイス</a><a href="/tag/夏" class="tag">#夏</a> </div> </div> <div class="article-content">暑い日にはアイスが最高です。お気に入りのフレーバーを見つけました。<br><br>この夏は色々な味を試してみようと思います。</div> </article> <!-- 前後の記事ナビゲーション + ホームボタン --> <nav class="article-nav"> <a href="/article/20240715" class="article-nav-item prev"> <span class="nav-label">← 過去の記事</span> <span class="nav-title">夏祭りに行ってきた</span> </a> <a href="/" class="home-button" id="homeButton" title="記事一覧に戻る"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path> <polyline points="9 22 9 12 15 12 15 22"></polyline> </svg> </a> <a href="/article/20240915" class="article-nav-item next"> <span class="nav-label">新しい記事 →</span> <span class="nav-title">夏の思い出</span> </a> </nav> </main> </div> </div>  </body></html> <script type="module">function n(){const t=document.getElementById("homeButton");if(!t)return;if(window.location.pathname.startsWith("/article/")){const e=sessionStorage.getItem("returnUrl");e&&!e.startsWith("/article/")?t.setAttribute("href",e):t.setAttribute("href","/")}}n();document.addEventListener("astro:page-load",n);</script>